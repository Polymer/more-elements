<link rel="import" href="../../toolkit-ui/elements/animation/all.html">
<element name="animation-group" extends="g-animation-group" on-click="clickHandler">
  <template>
    <style>
      @host {
        * {
          display: block;
        }
      }
      content::-webkit-distributed(*) {
        display: block;
        padding-left: 8px;
      }
    </style>
    <span>{{type}} group</span><br>
    <content></content>
  </template>
  <script>
    Toolkit.register(this, {
      publish: {
        type: 'seq'
      },
      clickHandler: function() {
        var timeout = 0;
        this.doOnChildren(function(c) {
          if (c.targetSelector && !c.target) {
            timeout = 500;
            c.targetSelectorChanged();
          }
        });
        this.asyncApply();
        window.dirtyCheck();
        setTimeout(this.play.bind(this), timeout);
      }
    });
  </script>
</element>
